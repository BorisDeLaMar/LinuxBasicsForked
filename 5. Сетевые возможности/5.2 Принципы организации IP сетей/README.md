# Принципы организации IP сетей  
***Как устроен стек IP сетей?***  
Две наиболее популярные классификации уровней стека - **модель OSI (7 уровней)** и **RFC 1122**.  
## RFC 1122  
Уровни стека TCP/IP сверху-вниз:  
+ Application layer (прикладной). На этом уровне работают прикладные протоколы: **SMTP**, **telnet**, **http** и другие
+ Transport layer - **TCP**, **UDP** - основные протоколы для доставки данных от одного узла другому в сети Интернет
+ Internet layer (сетевой) - основной уровень организации сети Интернет. На этом уровне работает протокол **IP**, определяющий как структуру пакетов,
передающихся между узлами, так и различные правила, по которым выполняется адресация узлов и сетей. На этом же уровне работают **ICMP** (команда `ping`,
ошибка недоступности хоста) - протокол управляющих сообщений (Internet Control Message Protocol), **ARP** и **RARP** - протоколы трансляции адресов
(Reverse Address Resolution Protocol), позволяющие реализовывать адреса ip в mac-адреса (то есть они осуществляют взаимодействие Internet и Link слоев).
Также на этом уровне работает группа протоколо маршрутизации, которые определяют правила пересылки данных между сегментами сети.
+ Link layer - уровень, на котором взаимодействуют устройства, объединенные коммуникационными каналами (медный кабель/оптоволокно/радиоволны).
Адреса на этом уровне - mac-адреса (Media Access Control).
## OSI  
- модель, описывающая не конкретно стек TCP/IP, а просто произвольные виды сетевого взаимодействия между узлами.
Модель OSI референсная (обобщенная) и синтетическая.
Уровни OSI снизу-вверх:
+ Физический - определяет то, как формируются и передаются сигналы в физической среде
+ Data link - определяет то, как устройства, непосредственно соединенные какой-то физической средой находят друг друга (**адресуются**) и как они обеспечивают передачу данных (низкоуровневый протокол через физическую среду).
+ Сетевой - позволяет строить сети, разделять адресное пространство, разделять узлы на группы и строить между ними коммуникации. То есть, это уровень организации сетей, уровень их архитектуры. Фактически, на этом уровне определяются группы узлов, которые могут иметь смысл логической сети, и правила маршрутизации (правила передачи данных между узлами, находящихся в разных группах) Аналогичен сетевому в RFC 1122.
+ Транспортный : **UDP** позволяет передевать данные в виде пакетов, **TCP** - потоковая передача (для чего нужна **сессия** - соединение двух узлов),
 поэтому транспортная составляющая относится и к UDP, и к TCP.
+ Сеансовый (session) - TCP
+ Presentation layer (представления)
+ Application layer (прикладной) - вместе с Presentation layer являются, по сути, одним уровнем: уровнем приложений и тех протоколов и форматов данных, которые
они используют для того, чтобы взаимодействовать. Например, взамодействие сервера потокового видео и плеера. 
