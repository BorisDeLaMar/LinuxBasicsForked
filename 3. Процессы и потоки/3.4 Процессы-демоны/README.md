# 3.4 Процессы-демоны  

При завершении процесса-родителя прекращают работу и все его потомки, что не всегда удобно. Но есть процессы, которые работают без ввода пользователя 
и, чаще всего, запускаются какими-то скриптами инициализации системы или внешними событиями.  
Процессы, которые не должны взаимодействовать с пользователем, а должны работать автономно, называют **демонами**.  
## Создание демона в Linux  
1) Создаем процесс с помощью `fork`
2) Переходим в корневой каталог (необязательно). Это нужно для того, чтобы при различных действиях с ФС (попытке ее отмонтирования, например),
мы не блокировали это действие тем, что у нас есть процесс, текущий каталог которого находится внутри этой отмонтиованной ФС. 
4) Отключить вновь созданный процесс от текущей сессии, то есть от управляющего терминала.
Делается это с помощью команды получения нового индентификатора сессии `setsid` (set session id).
6) Закрыть файлы стандартного I/O: `close(stdin)`, `close(stdout)`, `close(stderr)`.

*NB `man 2 setsid` для справки по команде*  
