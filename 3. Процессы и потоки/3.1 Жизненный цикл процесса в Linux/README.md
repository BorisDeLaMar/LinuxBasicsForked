# 3.1 Жизненный цикл процесса в Linux  

**Процесс** - контейнер некоторых ресурсов и владелец потоков исполнения.   
*NB Для Linux эта модель не совсем справедлива*  

***Какие ресурсы контролирует процесс и какими атрибутами обладает?***  
+ *исполняемые потоки*
+ *регионы памяти*, к которым имеет доступ приложение
+ *открытые файлы* и *файловые дескрипторы*
+ *сертификаты* (или *credentials*) - те возможности доступа, которые предполагает модель безопасности системы. Когда пользовательсоздает процесс,
+ он наследует те атрибуты безопасности, которые связаны с этим пользователем в ОС.

Важнейшие атрибуты процесса - **pid** и **ppid** (parent process id). Эти два атрибута используются для управления *деревом процессов*.
В Linux все процессы организованы иерархически в виде дерева. Есть главный процесс - `init` с `pid = 1`, и он является прямым или косвенным родителем всех остальных
процессов в системе. То есть `init` появляется первым при старте ОС и порожджает некоторые другие процессы, формирующие пользовательское окружение (системные процессы, 
демоны).  
Также и пользователь, запускающий командный интерпретатор и набирающий команды, порождает процессы, являющиеся потомками этого интерпретатора.  

`pstree` - просмотр дерева процессов текущего пользователя.
`pstree -p` - вывод дерева процессов с pid  
`echo $$` - вывод pid bash, из которого выполняем эту команду

***Зачем организовывать процессы иерархически и зачем нужен init?***  
Все процессы в системе обладают набором атрибутов; в их числе и **код возврата**. Этот атрибут, кстати, существует и после завершения процесса.  
Где-то в ядре есть структура, сопоставленная с набором атрибутов процесса, которая должна быть разрушена после завершения самого процесса, но этого не происходит до тех
 пор, пока родительский процесс не запросит код возврата этого завершившегося процесса. Только когда это произойдет, процесс удалится из таблицы процессов ОС.  
***Но что произойдет, если родительский процесс будет уничтожен раньше?***  
В таком курьезном случае `init` становится родителем осиротевших процессов.  
*NB Завершившийся, но не удаленный из таблицы процессов ОС процесс, называется **зондби***  
Само это состояние полезно, если у уже удаленного процесса хотим узнать значения атрибутов.
